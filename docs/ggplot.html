<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 6 GGPLOT | R Course</title>
  <meta name="description" content="Chapter 6 GGPLOT | R Course" />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 6 GGPLOT | R Course" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 6 GGPLOT | R Course" />
  
  
  

<meta name="author" content="YOUR NAME HERE" />


<meta name="date" content="2024-05-31" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="dpyr-library.html"/>
<link rel="next" href="bioconductor.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>



<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">SHORT TITLE HERE</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> R - Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#r---basic-concepts-and-applications"><i class="fa fa-check"></i><b>1.1</b> R - Basic Concepts and applications</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i><b>1.2</b> Why R?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#r-studio"><i class="fa fa-check"></i><b>1.3</b> R studio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="index.html"><a href="index.html#rstudio---look-and-feel"><i class="fa fa-check"></i><b>1.3.1</b> RStudio - Look and Feel</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#basic-mathematics-like-operators"><i class="fa fa-check"></i><b>1.4</b> Basic Mathematics like operators</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="index.html"><a href="index.html#basics"><i class="fa fa-check"></i><b>1.4.1</b> Basics</a></li>
<li class="chapter" data-level="1.4.2" data-path="index.html"><a href="index.html#bodmas-rule"><i class="fa fa-check"></i><b>1.4.2</b> BODMAS rule</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#r-markdown"><i class="fa fa-check"></i><b>1.5</b> R Markdown</a></li>
<li class="chapter" data-level="1.6" data-path="index.html"><a href="index.html#installation-of-packages"><i class="fa fa-check"></i><b>1.6</b> Installation of packages</a></li>
<li class="chapter" data-level="1.7" data-path="index.html"><a href="index.html#assignment"><i class="fa fa-check"></i><b>1.7</b> Assignment</a></li>
<li class="chapter" data-level="1.8" data-path="index.html"><a href="index.html#code-challenge"><i class="fa fa-check"></i><b>1.8</b> CODE CHALLENGE</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="data-types-and-data-structures.html"><a href="data-types-and-data-structures.html"><i class="fa fa-check"></i><b>2</b> Data Types and Data Structures</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-types-and-data-structures.html"><a href="data-types-and-data-structures.html#data-types"><i class="fa fa-check"></i><b>2.1</b> Data types</a></li>
<li class="chapter" data-level="2.2" data-path="data-types-and-data-structures.html"><a href="data-types-and-data-structures.html#data-structures"><i class="fa fa-check"></i><b>2.2</b> Data Structures</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="data-types-and-data-structures.html"><a href="data-types-and-data-structures.html#vector"><i class="fa fa-check"></i><b>2.2.1</b> Vector</a></li>
<li class="chapter" data-level="2.2.2" data-path="data-types-and-data-structures.html"><a href="data-types-and-data-structures.html#matrix"><i class="fa fa-check"></i><b>2.2.2</b> Matrix</a></li>
<li class="chapter" data-level="2.2.3" data-path="data-types-and-data-structures.html"><a href="data-types-and-data-structures.html#data-frame"><i class="fa fa-check"></i><b>2.2.3</b> Data frame</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="data-types-and-data-structures.html"><a href="data-types-and-data-structures.html#code-challenge-1"><i class="fa fa-check"></i><b>2.3</b> CODE CHALLENGE</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>3</b> Loops</a>
<ul>
<li class="chapter" data-level="3.1" data-path="loops.html"><a href="loops.html#for-loops"><i class="fa fa-check"></i><b>3.1</b> For loops</a></li>
<li class="chapter" data-level="3.2" data-path="loops.html"><a href="loops.html#while-loop"><i class="fa fa-check"></i><b>3.2</b> While loop</a></li>
<li class="chapter" data-level="3.3" data-path="loops.html"><a href="loops.html#code-challenge-2"><i class="fa fa-check"></i><b>3.3</b> CODE CHALLENGE</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="working-with-files.html"><a href="working-with-files.html"><i class="fa fa-check"></i><b>4</b> Working with files</a>
<ul>
<li class="chapter" data-level="4.1" data-path="working-with-files.html"><a href="working-with-files.html#xlsx-xls-files"><i class="fa fa-check"></i><b>4.1</b> .XLSX, XLS files</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="working-with-files.html"><a href="working-with-files.html#reading-a-file-to-a-dataframe"><i class="fa fa-check"></i><b>4.1.1</b> Reading a file to a dataframe</a></li>
<li class="chapter" data-level="4.1.2" data-path="working-with-files.html"><a href="working-with-files.html#write-a-new-table-to-a-file-locally"><i class="fa fa-check"></i><b>4.1.2</b> Write a new table to a file locally</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="working-with-files.html"><a href="working-with-files.html#csv-files"><i class="fa fa-check"></i><b>4.2</b> .CSV files</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="working-with-files.html"><a href="working-with-files.html#titanic-dataset"><i class="fa fa-check"></i><b>4.2.1</b> Titanic dataset</a></li>
<li class="chapter" data-level="4.2.2" data-path="working-with-files.html"><a href="working-with-files.html#ibm-employee-attrition-data"><i class="fa fa-check"></i><b>4.2.2</b> IBM Employee Attrition data</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="working-with-files.html"><a href="working-with-files.html#code-challenge-3"><i class="fa fa-check"></i><b>4.3</b> CODE CHALLENGE</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dpyr-library.html"><a href="dpyr-library.html"><i class="fa fa-check"></i><b>5</b> Dpyr library</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dpyr-library.html"><a href="dpyr-library.html#dplyr-verbs"><i class="fa fa-check"></i><b>5.1</b> Dplyr Verbs</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="dpyr-library.html"><a href="dpyr-library.html#select"><i class="fa fa-check"></i><b>5.1.1</b> select</a></li>
<li class="chapter" data-level="5.1.2" data-path="dpyr-library.html"><a href="dpyr-library.html#filter"><i class="fa fa-check"></i><b>5.1.2</b> filter</a></li>
<li class="chapter" data-level="5.1.3" data-path="dpyr-library.html"><a href="dpyr-library.html#arrange"><i class="fa fa-check"></i><b>5.1.3</b> arrange</a></li>
<li class="chapter" data-level="5.1.4" data-path="dpyr-library.html"><a href="dpyr-library.html#mutate"><i class="fa fa-check"></i><b>5.1.4</b> mutate</a></li>
<li class="chapter" data-level="5.1.5" data-path="dpyr-library.html"><a href="dpyr-library.html#group_by"><i class="fa fa-check"></i><b>5.1.5</b> group_by</a></li>
<li class="chapter" data-level="5.1.6" data-path="dpyr-library.html"><a href="dpyr-library.html#summarise"><i class="fa fa-check"></i><b>5.1.6</b> Summarise</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="dpyr-library.html"><a href="dpyr-library.html#chaining"><i class="fa fa-check"></i><b>5.2</b> Chaining</a></li>
<li class="chapter" data-level="5.3" data-path="dpyr-library.html"><a href="dpyr-library.html#application-of-dplyr-on-microbiology"><i class="fa fa-check"></i><b>5.3</b> Application of Dplyr on Microbiology</a></li>
<li class="chapter" data-level="5.4" data-path="dpyr-library.html"><a href="dpyr-library.html#code-challenge-4"><i class="fa fa-check"></i><b>5.4</b> CODE CHALLENGE</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="ggplot.html"><a href="ggplot.html"><i class="fa fa-check"></i><b>6</b> GGPLOT</a>
<ul>
<li class="chapter" data-level="6.1" data-path="ggplot.html"><a href="ggplot.html#five-key-steps-to-ggplot"><i class="fa fa-check"></i><b>6.1</b> Five key steps to ggplot</a></li>
<li class="chapter" data-level="6.2" data-path="ggplot.html"><a href="ggplot.html#prepare-the-data-for-plotting---data-assessment"><i class="fa fa-check"></i><b>6.2</b> Prepare the data for plotting - Data Assessment</a></li>
<li class="chapter" data-level="6.3" data-path="ggplot.html"><a href="ggplot.html#plotting"><i class="fa fa-check"></i><b>6.3</b> Plotting</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="ggplot.html"><a href="ggplot.html#base-set-up"><i class="fa fa-check"></i><b>6.3.1</b> Base set up</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="ggplot.html"><a href="ggplot.html#working-with-inbuilt-iris-data"><i class="fa fa-check"></i><b>6.4</b> Working with inbuilt iris data</a></li>
<li class="chapter" data-level="6.5" data-path="ggplot.html"><a href="ggplot.html#code-challenge-5"><i class="fa fa-check"></i><b>6.5</b> CODE CHALLENGE</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="bioconductor.html"><a href="bioconductor.html"><i class="fa fa-check"></i><b>7</b> Bioconductor</a>
<ul>
<li class="chapter" data-level="7.1" data-path="bioconductor.html"><a href="bioconductor.html#installing-biocmanager-package"><i class="fa fa-check"></i><b>7.1</b> Installing BiocManager Package</a></li>
<li class="chapter" data-level="7.2" data-path="bioconductor.html"><a href="bioconductor.html#searching-and-analyzing-the-strings"><i class="fa fa-check"></i><b>7.2</b> Searching and Analyzing the strings</a></li>
<li class="chapter" data-level="7.3" data-path="bioconductor.html"><a href="bioconductor.html#using-seqinr"><i class="fa fa-check"></i><b>7.3</b> Using seqinr</a></li>
<li class="chapter" data-level="7.4" data-path="bioconductor.html"><a href="bioconductor.html#using-short-read"><i class="fa fa-check"></i><b>7.4</b> Using Short Read</a></li>
<li class="chapter" data-level="7.5" data-path="bioconductor.html"><a href="bioconductor.html#code-challenge-6"><i class="fa fa-check"></i><b>7.5</b> CODE CHALLENGE</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Course</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="ggplot" class="section level1 hasAnchor" number="6">
<h1><span class="header-section-number">Chapter 6</span> GGPLOT<a href="ggplot.html#ggplot" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<script src="js/dcl.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
<script src="js/dcl.js"></script>
<p><code>ggplot2</code> is a powerful data visualization package in R that allows you to create a wide variety of graphs and plots. It is based on the grammar of graphics, a structured approach to constructing plots that emphasizes the mapping of data to visual attributes.</p>
<div id="five-key-steps-to-ggplot" class="section level2 hasAnchor" number="6.1">
<h2><span class="header-section-number">6.1</span> Five key steps to ggplot<a href="ggplot.html#five-key-steps-to-ggplot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
There are 5 key steps in plotting in ggplot;
<p>
<p>1.<strong>The Setup</strong> - Read the data set, define x and y axis</p>
<ol start="2" style="list-style-type: decimal">
<li><p><strong>The Labels</strong> - Title, X and Y axis labels</p></li>
<li><p><strong>The Theme</strong> - Default, Black and White, colored etc.</p></li>
<li><p><strong>The Facets</strong> - Individual Graphs for each group in data with exactly same range</p></li>
<li><p><strong>The Layers or geoms</strong> - The actual plot type - e.g Bar plot, Box plot, Violin plot etc.</p></li>
</ol>
</p>
<p>To install <code>ggplot</code>, run the below command in the console.</p>
<pre><code>install.packages(&quot;ggplot2&quot;)</code></pre>
</div>
<div id="prepare-the-data-for-plotting---data-assessment" class="section level2 hasAnchor" number="6.2">
<h2><span class="header-section-number">6.2</span> Prepare the data for plotting - Data Assessment<a href="ggplot.html#prepare-the-data-for-plotting---data-assessment" class="anchor-section" aria-label="Anchor link to header"></a></h2>
Invoke the libraries
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJsaWJyYXJ5KGdncGxvdDIpXG5saWJyYXJ5KGRhdGEudGFibGUpIn0=
</div>
Read the data using the fread function
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJtZXRoeWxhdGVkX2MgPSBmcmVhZChcImRhdGEvUl9XT1JLU0hPUC5jc3ZcIiwgaGVhZGVyPVQsIHNlcD1cIixcIikifQ==
</div>
View the first five records of the data
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJoZWFkKG1ldGh5bGF0ZWRfYykifQ==
</div>
Look at the nature of the data
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJzdHIobWV0aHlsYXRlZF9jKSJ9
</div>
<p>In the data set, there are numeric variables a well as character columns. There are 15 records in the data set</p>
Calculate the summary statistics
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJzdW1tYXJ5KG1ldGh5bGF0ZWRfYykifQ==
</div>
Do the data have null values?
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJzdW0oaXMubmEobWV0aHlsYXRlZF9jKSkifQ==
</div>
<p>This data does not have any null values.</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJjbGFzcyhtZXRoeWxhdGVkX2MpIn0=
</div>
</div>
<div id="plotting" class="section level2 hasAnchor" number="6.3">
<h2><span class="header-section-number">6.3</span> Plotting<a href="ggplot.html#plotting" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="base-set-up" class="section level3 hasAnchor" number="6.3.1">
<h3><span class="header-section-number">6.3.1</span> Base set up<a href="ggplot.html#base-set-up" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Before plotting the data, you need to;</p>
<ul>
<li><p>Define the graph skeleton. This is just an empty <code>ggplot()</code> function without additional arguments</p></li>
<li><p>Define the aesthetics. It defines how data should be mapped to visual properties like position, color, shape, and size</p></li>
<li><p>Define the labels. The labels make the visualizations informative and easy to understand for the user.</p></li>
</ul>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJncmFwaD1nZ3Bsb3QobWV0aHlsYXRlZF9jLCBcbiAgICAgICAgICAgICBhZXMoeD1DaHJvbW9zb21lLCB5PUNvdW50X2luX21pbGxpb25zKSkrICNncmFwaCBhZXN0aGV0aWNzXG4gIGxhYnMoeD1cIkNocm9tb3NvbWVzXCIsIHk9XCJDeXRvc2luZSBjb3VudCBpbiBtaWxsaW9uc1wiLCB0aXRsZT1cIkMgZGlzdHJpYnV0aW9uIGluIEEgdGhhbGlhbmFcIikgI2dyYXBoIGxhYmVsc1xuXG5wcmludChncmFwaCkifQ==
</div>
<ul>
<li><p>Define the type of graph - geoms. For this case, the graph is a bar graph. <code>geoms()</code> stands for ‘geometric objects’. In <code>ggplot</code>, there are different types of <code>geoms</code> to define which graph is to be plotted. Some of the examples include;</p></li>
<li><p><code>geom_point()</code> for scatter plot</p></li>
<li><p><code>geom_line()</code> for a line chart</p></li>
<li><p><code>geom_density()</code> for a density plots</p></li>
<li><p><code>geom_histogram()</code> for histograms</p></li>
<li><p><code>geom_boxplot()</code> for box plots</p></li>
<li><p><code>geom_col()</code> for bar chart</p></li>
<li><p><code>geom_tile()</code> for heat maps</p></li>
</ul>
In this course we shall explore a few of them but the concepts applies to all of them. Now lets make our plot a bar chart. <code>geom()</code> function will be added to a variable <code>graph</code> defined above to plot a bar chart.
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJncmFwaDEgPSBncmFwaCArIGdlb21fY29sKCkgI3Bsb3QgYSBiYXIgY2hhcnRcbnByaW50KGdyYXBoMSkifQ==
</div>
If you can remember our data, <code>methylated_c</code> has a column/variable “Context”. In this step, the variable “Context” will be introduced to make a stacked bar chart, therefore, the C distribution in Chromosomes based on “Context” will be plotted to add some depth to the data.
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJncmFwaDI9Z3JhcGgxK2FlcyhmaWxsPUNvbnRleHQpXG5wcmludChncmFwaDIpIn0=
</div>
<p>To make it a grouped bar chart, a <code>position</code> argument is introduced.</p>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJncmFwaDM9Z3JhcGgrZ2VvbV9jb2wocG9zaXRpb249XCJkb2RnZVwiKSthZXMoZmlsbD1Db250ZXh0KVxucHJpbnQoZ3JhcGgzKSJ9
</div>
<p>Faceted graphs - these are related data plotted separately on the same image/diagram.</p>
The <code>facet_grid()</code> function is added to the variable <code>graph3</code> to created faceted graphs based on the variable “Context”.
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJncmFwaDQ9Z3JhcGgzK2ZhY2V0X2dyaWQofkNvbnRleHQpXG5wcmludChncmFwaDQpIn0=
</div>
GGPlot randomly select colors to paint the graph but the biologist/statistician can use predefined colors as below.
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJncmFwaDU9Z3JhcGg0K3NjYWxlX2ZpbGxfbWFudWFsKHZhbHVlcz1jKFwiYnJvd25cIiwgXCJibHVlXCIsIFwicmVkXCIpKVxucHJpbnQoZ3JhcGg1KSJ9
</div>
<ul>
<li>The background color can be modified to ones aesthetic taste. The <code>theme()</code> function along with relevant arguments to make the background color of your choice, in this its light blue.
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJncmFwaDUrdGhlbWVfYncoYmFzZV9zaXplPTkpK3RoZW1lKHBhbmVsLmJhY2tncm91bmQgPSBlbGVtZW50X3JlY3QoZmlsbD1cImxpZ2h0Ymx1ZVwiKSkifQ==
</div></li>
</ul>
All of the above steps can be combined to come up with a decent graph from ggplot library.
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJteV90aXRsZSA9IGV4cHJlc3Npb24ocGFzdGUoXCJDeXN0b3NpbmUgZGlzdHJpYnV0aW9uIGluIFwiLCBpdGFsaWMoXCJBcmFiaWRvcGlzIHRoYWxpYW5hXCIpKSkjRGVmaW5lIHRoZSB0aXRsZSBcblxuZ3JhcGhfZmluYWwgPSBnZ3Bsb3QobWV0aHlsYXRlZF9jLCBhZXMoeD1DaHJvbW9zb21lLCB5PUNvdW50X2luX21pbGxpb25zKSkrXG4gIGxhYnMoeD1cIkNocm9tb3NvbWVzXCIsIHRpdGxlID0gbXlfdGl0bGUpICtcbiAgZmFjZXRfZ3JpZCh+Q29udGV4dCkgK1xuICBnZW9tX2NvbChwb3NpdGlvbj1cImRvZGdlXCIpK1xuICBhZXMoZmlsbD1Db250ZXh0KStzY2FsZV9maWxsX21hbnVhbCh2YWx1ZXMgPSBjKFwiYnJvd25cIiwgXCJibHVlXCIsIFwicmVkXCIpKStcbiAgdGhlbWVfYncoYmFzZV9zaXplID0gOSkrdGhlbWUocGFuZWwuYmFja2dyb3VuZCA9IGVsZW1lbnRfcmVjdChmaWxsPVwibGlnaHRibHVlXCIpKVxuXG5wcmludChncmFwaF9maW5hbCkifQ==
</div>
<p>The <code>expression</code> is used to combine name italics and normal fonts - this helps biologists include botanical names in charts</p>
</div>
</div>
<div id="working-with-inbuilt-iris-data" class="section level2 hasAnchor" number="6.4">
<h2><span class="header-section-number">6.4</span> Working with inbuilt iris data<a href="ggplot.html#working-with-inbuilt-iris-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>We have worked with iris data set before. In this topic we shall ask some questions and plot them on a box plot to cement our understanding in <code>ggplot</code></p>
<ul>
<li><strong>Plot a box plot to compare the sepal length in different iris species</strong>
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJncmFwaCA9IGdncGxvdChpcmlzLCBhZXMoeD1TcGVjaWVzLCB5PVNlcGFsLkxlbmd0aCkpKyAjIHRoZSBncmFwaCBza2VsZXRvblxuICBnZW9tX2JveHBsb3QoKSthZXMoZmlsbD1TcGVjaWVzKSAjIGFlc3RoZXRpY3NcblxucHJpbnQoZ3JhcGgpIn0=
</div>
Virginica have higher sepal length however some virginica have less sepal length than versicolor</li>
</ul>
Violin plot will show a better distribution than box plot
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJncmFwaCA9IGdncGxvdChpcmlzLCBhZXMoeD1TcGVjaWVzLCB5PVNlcGFsLkxlbmd0aCkpK1xuICBnZW9tX3Zpb2xpbigpK2FlcyhmaWxsPVNwZWNpZXMpXG5cbnByaW50KGdyYXBoKSJ9
</div>
<p>Since some data cleaning and manipulation is required before diving deep into visualizations, a package <strong>tidyr</strong> is introduced. It can be installed by invoking the command below to the console.</p>
<pre><code>install.packages(&quot;tidyr&quot;)</code></pre>
<p>This package is a part of the tidyverse collection designed to make data cleaning and reshaping easy. It has multiple functions for instance <code>gather()</code>, <code>spread()</code>, <code>pivot_wider()</code>, <code>pivot_longer()</code>, <code>separate()</code>, <code>unite()</code> and <code>fill()</code>. In this section we shall not dive deep to explore tidyr package but we will borrow one of its important functions, <code>gather()</code> to manipulate iris data when plotting. This function, <code>gather()</code> is used to reshape data especially from a long format to a short format.</p>
Invoke the library
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJsaWJyYXJ5KHRpZHlyKSAjIGNhbiBiZSB1c2VkIHRvIGNvbnZlcnQgZnJvbSBzaG9ydCBmb3JtYXQgdG8gbG9uZyBmb3JtYXQifQ==
</div>
<ul>
<li>Convert to a long format</li>
</ul>
<code>gather</code> command is used to convert data into fewer columns. The columns from sepal length to petal width are to be merged to a single column called measurements
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiIjR2F0aGVyIGZyb20gc2VwYWwgbGVuZ3RoIHRvIHBldGFsIHdpZHRoIGNvbHVtbiBpbnRvIHR5cGUgYW5kIG1lYXN1cmVtZW50IGNvbHVtbiBcbmlyaXNfbG9uZyA9IGdhdGhlcihpcmlzLCB0eXBlLCBtZWFzdXJlbWVudCwgU2VwYWwuTGVuZ3RoOlBldGFsLldpZHRoLCBmYWN0b3Jfa2V5ID0gVFJVRSlcbnRhaWwoaXJpc19sb25nKSJ9
</div>
Lets plot the data to a box plot
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJncmFwaD1nZ3Bsb3QoaXJpc19sb25nLCBhZXMoeD1TcGVjaWVzLHk9bWVhc3VyZW1lbnQpKStcbiAgbGFicyh4PVwiU3BlY2llc1wiLCB5PVwiTGVuZ3RoIGluIGNtXCIsIHRpdGxlID0gXCJ2YXJpYXRpb24gaW4gUGV0YWxzIGFuZCBTZXBhbHMgb2YgSXJpcyBTcGVjaWVzXCIpK1xuICB0aGVtZShheGlzLnRleHQgPSBlbGVtZW50X3RleHQoYW5nbGU9OTApKStcbiAgZmFjZXRfZ3JpZCh+dHlwZSkrXG4gIGFlcyhmaWxsPVNwZWNpZXMpK1xuICBnZW9tX2JveHBsb3QoKVxuXG5wcmludChncmFwaCkifQ==
</div>
the same can also be plotted to a violin plot
<div data-datacamp-exercise="" data-height="300" data-encoded="true">
eyJsYW5ndWFnZSI6InIiLCJzYW1wbGUiOiJncmFwaD1nZ3Bsb3QoaXJpc19sb25nLCBhZXMoeD1TcGVjaWVzLHk9bWVhc3VyZW1lbnQpKStcbiAgbGFicyh4PVwiU3BlY2llc1wiLCB5PVwiTGVuZ3RoIGluIGNtXCIsIHRpdGxlID0gXCJ2YXJpYXRpb24gaW4gUGV0YWxzIGFuZCBTZXBhbHMgb2YgSXJpcyBTcGVjaWVzXCIpK1xuICB0aGVtZShheGlzLnRleHQgPSBlbGVtZW50X3RleHQoYW5nbGU9OTApKStcbiAgZmFjZXRfZ3JpZCh+dHlwZSkrXG4gIGFlcyhmaWxsPVNwZWNpZXMpK1xuICBnZW9tX3Zpb2xpbigpXG5cbnByaW50KGdyYXBoKSJ9
</div>
</div>
<div id="code-challenge-5" class="section level2 hasAnchor" number="6.5">
<h2><span class="header-section-number">6.5</span> CODE CHALLENGE<a href="ggplot.html#code-challenge-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>thyroid disease - <a href="https://www.kaggle.com/datasets/jainaru/thyroid-disease-data/data" class="uri">https://www.kaggle.com/datasets/jainaru/thyroid-disease-data/data</a></p>
<p>HR analytics dataset - <a href="https://www.kaggle.com/datasets/pavansubhasht/ibm-hr-analytics-attrition-dataset/data" class="uri">https://www.kaggle.com/datasets/pavansubhasht/ibm-hr-analytics-attrition-dataset/data</a></p>
<ol style="list-style-type: decimal">
<li><p>You will be required to retrieve the HR analytics employee attrition data set from kaggle. Click <a href="https://www.kaggle.com/datasets/pavansubhasht/ibm-hr-analytics-attrition-dataset/data">here</a> to check out the data set. Read the data into an R data frame and answer the following questions using <code>read.csv</code> and <code>ggplot2</code> libraries.</p>
<ol style="list-style-type: lower-alpha">
<li>Plot a histogram to show the distribution of age among the employees.</li>
<li>Draw a boxplot to show the employees’ hourly rate in the sales department. Are there any outliers? What is the median employees’ hourly rate from the boxplot?</li>
<li>How does age relate to monthly income? Are younger employees paid less? Plot a scatter plot to show the relationship between employees monthly income and age. <strong>Note</strong>:<em>Age should be in the x axis</em></li>
<li>How many male and female employees are their in the company? Are female employees more than male employees. Plot a bar chart to show.</li>
<li>Are male employees retained retained more than the female employees in the company. Filter to retrieve the retained employees(“Attrition=”No”) only.</li>
<li>What is the marital status of the employees in the Sales department? Filter the data to retrieve the sales department then plot the value count of each marital status in the filtered data set on a pie chart.</li>
<li>Finally plot a heatmap to show the correlation of numeric columns.</li>
</ol></li>
<li><p>You will be required to download the thyroid disease csv file from <a href="https://www.kaggle.com/datasets/jainaru/thyroid-disease-data/data">here</a>. It contains 13 clinicopathologic features aiming to predict recurrence of well differentiated thyroid cancer. The data set was collected in duration of 15 years and each patient was followed for at least 10 years. The data was procured from thyroid disease datasets provided by the UCI Machine Learning Repository. You will load the csv file into R data frame, <code>read.csv</code>, and solve the following questions.</p>
<ol style="list-style-type: lower-alpha">
<li>After the initial thyroid cancer treatment, has the disease recurred or not? Compare the two categories of patients (recurred and not recurred) using a bar chart.</li>
<li>After physical examination of the thyroid gland and the surrounding structures, there were patients who had multinodular goiter, other single nodular gioters while rest of the patients had other complications. What are the composition of the patients? Plot a pie chart to show.</li>
<li>Plot a grouped bar chart to show the average risk and age of thyroid disease between males and female patient. Risk and Age columns against gender.</li>
<li>Plot a desnsity plot to show the distribution of age. Which age group is mostly affected by thyroid disease?</li>
</ol></li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="dpyr-library.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="bioconductor.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/balsaedi/RCourse/edit/main/06-ggplot-library-advance-R.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/balsaedi/RCourse/blob/main/06-ggplot-library-advance-R.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
